(this.webpackJsonpwarehousemap=this.webpackJsonpwarehousemap||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"fire":{"header":"Fire hazard","description":"The warehouse is on fire","options":["Put out the fire","Call the fire brigade","Add some oil","Make an instagram story about it"],"correctOption":1},"theft":{"header":"Theft","description":"Goods are being stolen by employees","options":["Call the police","Interrogate the employees","Install security cameras","Replace employees with robots"],"correctOption":3},"absenteeism":{"header":"Absenteeism","description":"There is an abnormally high amount of absenteeism in the warehouse employees","options":["Hire private investigator","Ask HR to talk to employees","Allow people to work from home","Replace employees with robots"],"correctOption":1}}')},34:function(e,t,n){e.exports=n(65)},39:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),i=n.n(o),c=(n(39),n(32)),l=n(7),s=n(1),u=n(9),m=n(30),p=a.a.forwardRef((function(e,t){var n=Object(u.useApp)();if(n){var r="url('".concat("/warehousemap","/img/cursors/dwarven_gauntlet_extra_6.png'), auto");n.renderer.plugins.interaction.cursorStyles.pointer=r}return a.a.createElement(d,Object.assign({app:n},e,{ref:t}))})),d=Object(u.PixiComponent)("Viewport",{create:function(e){var t=new m.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:e.worldWidth,worldHeight:e.worldHeight,ticker:e.app.ticker,interaction:e.app.renderer.plugins.interaction});return t.on("clicked",(function(t){e.onClick&&e.onClick(t)})),t.drag().pinch().wheel().clamp({direction:"all"}).clampZoom({minScale:1,maxScale:2}).decelerate(),t}}),f=p,h=n(66),g=n(12);h.a.registerPIXI(s),g.a.registerPlugin(h.a);var v=function(e){var t=Object(r.useRef)(null),n=(Object(u.useApp)(),Object(r.useRef)()),o=Object(r.useState)(e.position||new s.Point),i=Object(l.a)(o,2),c=i[0],m=i[1];Object(r.useEffect)((function(){g.a.from(t.current,{duration:1,ease:"elastic.out(2, 0.5)",pixi:{visible:!1,scale:.1}}).delay(e.delay||0)}),[e.delay]);var p=function(e){n.current=e.data,e.stopPropagation()},d=function(){n.current=void 0,console.log(c)};function f(){if(n.current){var e=n.current.getLocalPosition(t.current.parent);m(e)}}return a.a.createElement(u.Sprite,Object.assign({},e,{anchor:[.5,.5],position:c,ref:t,interactive:!0,image:"".concat("/warehousemap","/images/ui/marker.svg"),mousedown:p,touchstart:p,mouseup:d,mouseupoutside:d,mousemove:f,touchmove:f}))},b=n(31),w=n.n(b),E=n(18);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=a.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;stroke:#3FA548;stroke-width:32;}\n"),k=a.a.createElement("defs",null),x=a.a.createElement("g",{id:"Page-1"},a.a.createElement("polyline",{id:"checkmark",className:"st0",points:"11.33,88.97 88.95,166.87 244.67,11.32  "})),S=function(e){var t=e.svgRef,n=e.title,r=y(e,["svgRef","title"]);return a.a.createElement("svg",O({id:"m-check-mark",x:"0px",y:"0px",width:"255.97px",height:"189.51px",viewBox:"0 0 255.97 189.51",style:{enableBackground:"new 0 0 255.97 189.51"},xmlSpace:"preserve",ref:t},r),n?a.a.createElement("title",null,n):null,j,k,x)},C=a.a.forwardRef((function(e,t){return a.a.createElement(S,O({svgRef:t},e))})),P=(n.p,n(62),function(e){var t=e.situationId,n=e.onClose,o=e.onOptionChosen,i=E[t],c=Object(r.useState)(),s=Object(l.a)(c,2),u=s[0],m=s[1],p=Object(r.useState)(!1),d=Object(l.a)(p,2),f=d[0],h=d[1],g=function(){n()};return a.a.createElement(w.a,{isOpen:null!==t,ariaHideApp:!1,overlayClassName:"modal-overlay",className:"modal-content",onRequestClose:function(){return g()}},t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,i.header," "),a.a.createElement("div",{className:"modal-close",onClick:function(){return g()}}),a.a.createElement("p",null,i.description),a.a.createElement("ul",{className:"options"},i.options.map((function(e,t){return a.a.createElement("li",{key:e,className:t===u?"active":"",onClick:function(){return m(t)}},a.a.createElement("div",{className:"checkbox"},a.a.createElement(C,{className:"check"})),a.a.createElement("div",null,e))}))),a.a.createElement("div",{className:"control"},!f&&a.a.createElement("button",{disabled:null===u,onClick:function(){return h(!0)}},a.a.createElement("h2",null,"Okay")),f&&a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{disabled:null===u,onClick:function(){return o(u),void n()}},a.a.createElement("h2",null,"I'm sure")),a.a.createElement("div",{className:"warning"},null!==u&&a.a.createElement("span",null,"Are you sure you want to deal with this situation at this time? This means you prioritize this situation over any still active situations."))))))}),I=(n(63),function(e){var t=e.situationOrder;return t.length?a.a.createElement("div",{className:"situation-order"},a.a.createElement("p",null,a.a.createElement("b",null,"Issues are solved in this order:")),a.a.createElement("ol",null,t.map((function(e){var t=E[e];return a.a.createElement("li",{key:e},t.header)})))):null});n(64);h.a.registerPIXI(s),g.a.registerPlugin(h.a);var N=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(null),n=Object(l.a)(t,2),o=n[0],i=n[1],m=Object(r.useState)([]),p=Object(l.a)(m,2),d=p[0],h=p[1],b=Object(r.useState)(1200),w=Object(l.a)(b,2),E=w[0],O=w[1],y=Object(r.useState)(600),j=Object(l.a)(y,2),k=j[0],x=j[1];Object(r.useEffect)((function(){var e=function(){O(window.innerWidth),x(window.innerHeight)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){e.current&&e.current.moveCenter(960,639)}),[E,k]),Object(r.useEffect)((function(){o?g.a.to(e.current,{duration:.5,pixi:{blur:20}}):g.a.to(e.current,{duration:.5,pixi:{blur:0}})}),[o]),console.log(d);var S=function(e,t,n){return d.some((function(t){return t===e}))?null:a.a.createElement(v,{position:t,pointerdown:function(){return function(e){i(e)}(e)},delay:n})};return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.Stage,{width:E,height:k},a.a.createElement(f,{screenWidth:E,screenHeight:k,worldWidth:1920,worldHeight:1278,ref:e},a.a.createElement(u.Sprite,{image:"".concat("/warehousemap","/map.png"),interactive:!0}),S("fire",new s.Point(440,449),.5),S("theft",new s.Point(986,724),1),S("absenteeism",new s.Point(1437,447),1.5))),a.a.createElement(I,{situationOrder:d}),o&&a.a.createElement(P,{situationId:o,onClose:function(){i(null)},onOptionChosen:function(e){h([].concat(Object(c.a)(d),[o]))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a3ea1d37.chunk.js.map