(this.webpackJsonpwarehousemap=this.webpackJsonpwarehousemap||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"fire":{"header":"Fire hazard","description":"The warehouse is on fire","options":["Put out the fire","Call the fire brigade","Add some oil","Make an instagram story about it"],"correctOption":1},"theft":{"header":"Theft","description":"Goods are being stolen by employees","options":["Call the police","Interrogate the employees","Install security cameras","Replace employees with robots"],"correctOption":3},"absenteeism":{"header":"Absenteeism","description":"There is an abnormally high amount of absenteeism in the warehouse employees","options":["Hire private investigator","Ask HR to talk to employees","Allow people to work from home","Replace employees with robots"],"correctOption":1}}')},34:function(e,t,n){e.exports=n(65)},39:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),i=n.n(o),c=(n(39),n(32)),l=n(7),s=n(1),u=n(9),m=n(30),d=r.a.forwardRef((function(e,t){var n=Object(u.useApp)();if(n){var a="url('".concat("/warehousemap","/img/cursors/dwarven_gauntlet_extra_6.png'), auto");n.renderer.plugins.interaction.cursorStyles.pointer=a}return r.a.createElement(p,Object.assign({app:n},e,{ref:t}))})),p=Object(u.PixiComponent)("Viewport",{create:function(e){var t=new m.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:e.worldWidth,worldHeight:e.worldHeight,ticker:e.app.ticker,interaction:e.app.renderer.plugins.interaction}),n=e.minScale,a=void 0===n?.5:n,r=e.maxScale,o=void 0===r?1:r;return t.drag().pinch().wheel().clamp({direction:"all"}).clampZoom({minScale:a,maxScale:o}).decelerate(),t}}),f=d,h=n(66),v=n(12);h.a.registerPIXI(s),v.a.registerPlugin(h.a);var b=function(e){var t=Object(a.useRef)(null),n=(Object(u.useApp)(),Object(a.useRef)()),o=Object(a.useState)(e.position||new s.Point),i=Object(l.a)(o,2),c=i[0],m=i[1];Object(a.useEffect)((function(){v.a.from(t.current,{duration:1,ease:"elastic.out(2, 0.5)",pixi:{visible:!1,scale:.1}}).delay(e.delay||0)}),[e.delay]);var d=function(e){n.current=e.data,e.stopPropagation()},p=function(){n.current=void 0,console.log(c)};function f(){if(n.current){var e=n.current.getLocalPosition(t.current.parent);m(e)}}return r.a.createElement(u.Sprite,Object.assign({},e,{anchor:[.5,.5],position:c,ref:t,interactive:!0,image:"".concat("/warehousemap","/images/ui/marker.svg"),mousedown:d,touchstart:d,mouseup:p,mouseupoutside:p,mousemove:f,touchmove:f}))},g=n(31),w=n.n(g),E=n(18);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=r.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;stroke:#3FA548;stroke-width:32;}\n"),k=r.a.createElement("defs",null),x=r.a.createElement("g",{id:"Page-1"},r.a.createElement("polyline",{id:"checkmark",className:"st0",points:"11.33,88.97 88.95,166.87 244.67,11.32  "})),S=function(e){var t=e.svgRef,n=e.title,a=y(e,["svgRef","title"]);return r.a.createElement("svg",O({id:"m-check-mark",x:"0px",y:"0px",width:"255.97px",height:"189.51px",viewBox:"0 0 255.97 189.51",style:{enableBackground:"new 0 0 255.97 189.51"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,j,k,x)},P=r.a.forwardRef((function(e,t){return r.a.createElement(S,O({svgRef:t},e))})),C=(n.p,n(62),function(e){var t=e.situationId,n=e.onClose,o=e.onOptionChosen,i=E[t],c=Object(a.useState)(null),s=Object(l.a)(c,2),u=s[0],m=s[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),f=p[0],h=p[1],v=function(){n()};return r.a.createElement(w.a,{isOpen:null!==t,ariaHideApp:!1,overlayClassName:"modal-overlay",className:"modal-content ".concat(t),onRequestClose:function(){return v()}},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,i.header," "),r.a.createElement("div",{className:"modal-close",onClick:function(){return v()}})),r.a.createElement("div",{className:"banner"}),r.a.createElement("p",null,i.description),r.a.createElement("ul",{className:"options"},i.options.map((function(e,t){return r.a.createElement("li",{key:e,className:t===u?"active":"",onClick:function(){return m(t)}},r.a.createElement("div",{className:"checkbox"},r.a.createElement(P,{className:"check"})),r.a.createElement("div",null,e))}))),r.a.createElement("div",{className:"control"},!f&&r.a.createElement("button",{disabled:null===u,onClick:function(){return h(!0)}},r.a.createElement("b",null,"Okay")),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{disabled:null===u,onClick:function(){return o(u),void n()}},r.a.createElement("b",null,"I'm sure")),r.a.createElement("button",{disabled:null===u,onClick:function(){return v()}},"Never mind"),r.a.createElement("div",{className:"warning"},null!==u&&r.a.createElement("span",null,"Are you sure you want to deal with this situation at this time? This means you prioritize this situation over any still active situations."))))))}),N=(n(63),function(e){var t=e.situationOrder;return t.length?r.a.createElement("div",{className:"situation-order"},r.a.createElement("p",null,r.a.createElement("b",null,"Issues are solved in this order:")),r.a.createElement("ol",null,t.map((function(e){var t=E[e];return r.a.createElement("li",{key:e},t.header)})))):null});n(64);h.a.registerPIXI(s),v.a.registerPlugin(h.a);var I=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(l.a)(t,2),o=n[0],i=n[1],m=Object(a.useState)([]),d=Object(l.a)(m,2),p=d[0],h=d[1],g=Object(a.useState)(1200),w=Object(l.a)(g,2),E=w[0],O=w[1],y=Object(a.useState)(600),j=Object(l.a)(y,2),k=j[0],x=j[1];Object(a.useEffect)((function(){var e=function(){var e=Math.min(window.innerWidth,window.outerWidth),t=Math.min(window.innerHeight,window.outerHeight);O(e),x(t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){e.current&&e.current.moveCenter(960,639)}),[E,k]),Object(a.useEffect)((function(){o?v.a.to(e.current,{duration:.5,pixi:{blur:20}}):v.a.to(e.current,{duration:.5,pixi:{blur:0}})}),[o]);var S=function(e,t,n){return p.some((function(t){return t===e}))?null:r.a.createElement(b,{position:t,pointerdown:function(){return function(e){i(e)}(e)},delay:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.Stage,{width:E,height:k},r.a.createElement(f,{screenWidth:E,screenHeight:k,worldWidth:1920,worldHeight:1278,ref:e},r.a.createElement(u.Sprite,{image:"".concat("/warehousemap","/map.png"),interactive:!0}),S("fire",new s.Point(440,449),.5),S("theft",new s.Point(986,724),1),S("absenteeism",new s.Point(1437,447),1.5))),r.a.createElement(N,{situationOrder:p}),o&&r.a.createElement(C,{situationId:o,onClose:function(){i(null)},onOptionChosen:function(e){h([].concat(Object(c.a)(p),[o]))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.2ec4ad2a.chunk.js.map